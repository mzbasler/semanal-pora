import{c as re,j as s,r as d,a as de,H as Pe}from"./app-JwceJj38.js";import{B as Ee}from"./button-DjYXblDz.js";import{C as me,a as ue,b as te,c as se}from"./card-DX0jf4dh.js";import{e as Re,c as ie}from"./index-CMVyAQcz.js";import{u as Te,c as fe,a as Ie,b as Ae,P as Be,A as $e}from"./app-layout-BCGFpQVY.js";import{c as Oe,u as be}from"./index-B_PEFxXd.js";import{C as Me}from"./check-8ZReTZgq.js";import{U as pe}from"./users-DOQPKP1B.js";import{A as xe}from"./arrow-left-right-Dyn92FVe.js";/* empty css            */import"./index-sHvJ9O8k.js";import"./badge-CLtB3yZF.js";const De=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],He=Re("UserCheck",De),ge=d.createContext({});function Fe(r){const e=re.c(11),{value:t,onValueChange:i,variant:a,className:o,children:l}=r;let n;e[0]!==i||e[1]!==t?(n={value:t,onValueChange:i},e[0]=i,e[1]=t,e[2]=n):n=e[2];let c;e[3]!==o?(c=ie("flex items-center gap-1",o),e[3]=o,e[4]=c):c=e[4];let m;e[5]!==l||e[6]!==c?(m=s.jsx("div",{className:c,children:l}),e[5]=l,e[6]=c,e[7]=m):m=e[7];let u;return e[8]!==n||e[9]!==m?(u=s.jsx(ge.Provider,{value:n,children:m}),e[8]=n,e[9]=m,e[10]=u):u=e[10],u}function he(r){const e=re.c(11),{value:t,className:i,children:a}=r,o=d.useContext(ge),l=o.value===t,n=l?"on":"off";let c;e[0]!==o||e[1]!==l||e[2]!==t?(c=()=>o.onValueChange?.(l?"":t),e[0]=o,e[1]=l,e[2]=t,e[3]=c):c=e[3];let m;e[4]!==i?(m=ie("inline-flex items-center justify-center rounded-md px-3 py-2 text-sm font-medium transition-colors","border border-input bg-transparent hover:bg-accent hover:text-accent-foreground","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","disabled:pointer-events-none disabled:opacity-50",i),e[4]=i,e[5]=m):m=e[5];let u;return e[6]!==a||e[7]!==n||e[8]!==c||e[9]!==m?(u=s.jsx("button",{type:"button","data-state":n,onClick:c,className:m,children:a}),e[6]=a,e[7]=n,e[8]=c,e[9]=m,e[10]=u):u=e[10],u}function Le(r,e=[]){let t=[];function i(o,l){const n=d.createContext(l),c=t.length;t=[...t,l];const m=f=>{const{scope:x,children:v,...h}=f,_=x?.[r]?.[c]||n,j=d.useMemo(()=>h,Object.values(h));return s.jsx(_.Provider,{value:j,children:v})};m.displayName=o+"Provider";function u(f,x){const v=x?.[r]?.[c]||n,h=d.useContext(v);if(h)return h;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[m,u]}const a=()=>{const o=t.map(l=>d.createContext(l));return function(n){const c=n?.[r]||o;return d.useMemo(()=>({[`__scope${r}`]:{...n,[r]:c}}),[n,c])}};return a.scopeName=r,[i,Ve(a,...e)]}function Ve(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const i=r.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const l=i.reduce((n,{useScope:c,scopeName:m})=>{const f=c(o)[`__scope${m}`];return{...n,...f}},{});return d.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function qe(r){const e=ze(r),t=d.forwardRef((i,a)=>{const{children:o,...l}=i,n=d.Children.toArray(o),c=n.find(Ge);if(c){const m=c.props.children,u=n.map(f=>f===c?d.Children.count(m)>1?d.Children.only(null):d.isValidElement(m)?m.props.children:null:f);return s.jsx(e,{...l,ref:a,children:d.isValidElement(m)?d.cloneElement(m,void 0,u):null})}return s.jsx(e,{...l,ref:a,children:o})});return t.displayName=`${r}.Slot`,t}function ze(r){const e=d.forwardRef((t,i)=>{const{children:a,...o}=t;if(d.isValidElement(a)){const l=Je(a),n=We(o,a.props);return a.type!==d.Fragment&&(n.ref=i?Oe(i,l):l),d.cloneElement(a,n)}return d.Children.count(a)>1?d.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var Ue=Symbol("radix.slottable");function Ge(r){return d.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===Ue}function We(r,e){const t={...e};for(const i in e){const a=r[i],o=e[i];/^on[A-Z]/.test(i)?a&&o?t[i]=(...n)=>{const c=o(...n);return a(...n),c}:a&&(t[i]=a):i==="style"?t[i]={...a,...o}:i==="className"&&(t[i]=[a,o].filter(Boolean).join(" "))}return{...r,...t}}function Je(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var Ke=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],le=Ke.reduce((r,e)=>{const t=qe(`Primitive.${e}`),i=d.forwardRef((a,o)=>{const{asChild:l,...n}=a,c=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...n,ref:o})});return i.displayName=`Primitive.${e}`,{...r,[e]:i}},{}),ne="Checkbox",[Xe]=Le(ne),[Ze,ce]=Xe(ne);function Qe(r){const{__scopeCheckbox:e,checked:t,children:i,defaultChecked:a,disabled:o,form:l,name:n,onCheckedChange:c,required:m,value:u="on",internal_do_not_use_render:f}=r,[x,v]=Te({prop:t,defaultProp:a??!1,onChange:c,caller:ne}),[h,_]=d.useState(null),[j,b]=d.useState(null),g=d.useRef(!1),N=h?!!l||!!h.closest("form"):!0,k={checked:x,disabled:o,setChecked:v,control:h,setControl:_,name:n,form:l,value:u,hasConsumerStoppedPropagationRef:g,required:m,defaultChecked:S(a)?!1:a,isFormControl:N,bubbleInput:j,setBubbleInput:b};return s.jsx(Ze,{scope:e,...k,children:Ye(f)?f(k):i})}var Ce="CheckboxTrigger",ve=d.forwardRef(({__scopeCheckbox:r,onKeyDown:e,onClick:t,...i},a)=>{const{control:o,value:l,disabled:n,checked:c,required:m,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:x,isFormControl:v,bubbleInput:h}=ce(Ce,r),_=be(a,u),j=d.useRef(c);return d.useEffect(()=>{const b=o?.form;if(b){const g=()=>f(j.current);return b.addEventListener("reset",g),()=>b.removeEventListener("reset",g)}},[o,f]),s.jsx(le.button,{type:"button",role:"checkbox","aria-checked":S(c)?"mixed":c,"aria-required":m,"data-state":we(c),"data-disabled":n?"":void 0,disabled:n,value:l,...i,ref:_,onKeyDown:fe(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:fe(t,b=>{f(g=>S(g)?!0:!g),h&&v&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})})});ve.displayName=Ce;var _e=d.forwardRef((r,e)=>{const{__scopeCheckbox:t,name:i,checked:a,defaultChecked:o,required:l,disabled:n,value:c,onCheckedChange:m,form:u,...f}=r;return s.jsx(Qe,{__scopeCheckbox:t,checked:a,defaultChecked:o,disabled:n,required:l,onCheckedChange:m,name:i,form:u,value:c,internal_do_not_use_render:({isFormControl:x})=>s.jsxs(s.Fragment,{children:[s.jsx(ve,{...f,ref:e,__scopeCheckbox:t}),x&&s.jsx(ke,{__scopeCheckbox:t})]})})});_e.displayName=ne;var je="CheckboxIndicator",ye=d.forwardRef((r,e)=>{const{__scopeCheckbox:t,forceMount:i,...a}=r,o=ce(je,t);return s.jsx(Be,{present:i||S(o.checked)||o.checked===!0,children:s.jsx(le.span,{"data-state":we(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...r.style}})})});ye.displayName=je;var Ne="CheckboxBubbleInput",ke=d.forwardRef(({__scopeCheckbox:r,...e},t)=>{const{control:i,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:l,required:n,disabled:c,name:m,value:u,form:f,bubbleInput:x,setBubbleInput:v}=ce(Ne,r),h=be(t,v),_=Ie(o),j=Ae(i);d.useEffect(()=>{const g=x;if(!g)return;const N=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(N,"checked").set,w=!a.current;if(_!==o&&P){const E=new Event("click",{bubbles:w});g.indeterminate=S(o),P.call(g,S(o)?!1:o),g.dispatchEvent(E)}},[x,_,o,a]);const b=d.useRef(S(o)?!1:o);return s.jsx(le.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??b.current,required:n,disabled:c,name:m,value:u,form:f,...e,tabIndex:-1,ref:h,style:{...e.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ke.displayName=Ne;function Ye(r){return typeof r=="function"}function S(r){return r==="indeterminate"}function we(r){return S(r)?"indeterminate":r?"checked":"unchecked"}function et(r){const e=re.c(9);let t,i;e[0]!==r?({className:t,...i}=r,e[0]=r,e[1]=t,e[2]=i):(t=e[1],i=e[2]);let a;e[3]!==t?(a=ie("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),e[3]=t,e[4]=a):a=e[4];let o;e[5]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(ye,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Me,{className:"size-3.5"})}),e[5]=o):o=e[5];let l;return e[6]!==i||e[7]!==a?(l=s.jsx(_e,{"data-slot":"checkbox",className:a,...i,children:o}),e[6]=i,e[7]=a,e[8]=l):l=e[8],l}const tt=[{title:"Dashboard",href:"/dashboard"},{title:"Partidas",href:"/matches"},{title:"Montar Times",href:"#"}];function xt(r){const e=re.c(93),{match:t,allPlayers:i,confirmations:a,confirmedPlayers:o}=r;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={},e[0]=l):l=e[0];const[n,c]=d.useState(l),[m,u]=d.useState(!1);let f;e[1]!==a?(f=a.reduce(st,{}),e[1]=a,e[2]=f):f=e[2];const x=f;let v;e[3]!==t.id?(v=(p,C)=>{de.post(`/matches/${t.id}/toggle-confirmation`,{user_id:p,confirmed:C},{preserveScroll:!0})},e[3]=t.id,e[4]=v):v=e[4];const h=v;let _;e[5]!==n?(_=(p,C)=>{if(C)c({...n,[p]:Number(C)});else{const y={...n};delete y[p],c(y)}},e[5]=n,e[6]=_):_=e[6];const j=_;let b;e[7]!==t.id||e[8]!==t.team_a.id||e[9]!==t.team_b.id||e[10]!==n?(b=()=>{const p=Object.keys(n).filter(y=>n[Number(y)]===t.team_a.id).map(Number),C=Object.keys(n).filter(y=>n[Number(y)]===t.team_b.id).map(Number);u(!0),de.post(`/matches/${t.id}/assign-teams`,{team_a_players:p,team_b_players:C},{onFinish:()=>u(!1)})},e[7]=t.id,e[8]=t.team_a.id,e[9]=t.team_b.id,e[10]=n,e[11]=b):b=e[11];const g=b;let N;e[12]!==n?(N=Object.values(n),e[12]=n,e[13]=N):N=e[13];let k;e[14]!==t.team_a.id||e[15]!==N?(k=N.filter(p=>p===t.team_a.id),e[14]=t.team_a.id,e[15]=N,e[16]=k):k=e[16];const P=k.length;let w;e[17]!==n?(w=Object.values(n),e[17]=n,e[18]=w):w=e[18];let E;e[19]!==t.team_b.id||e[20]!==w?(E=w.filter(p=>p===t.team_b.id),e[19]=t.team_b.id,e[20]=w,e[21]=E):E=e[21];const J=E.length,Se=P>0&&J>0;let K;e[22]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(Pe,{title:"Montar Times"}),e[22]=K):K=e[22];let X;e[23]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Montar Times"}),s.jsx("p",{className:"text-muted-foreground",children:"Primeiro confirme os jogadores, depois distribua entre os times"})]}),e[23]=X):X=e[23];let Z;e[24]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(me,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5"}),"Confirmar Presença dos Jogadores"]})}),e[24]=Z):Z=e[24];let R;if(e[25]!==i||e[26]!==x||e[27]!==h){let p;e[29]!==x||e[30]!==h?(p=C=>{const y=!!x[C.id];return s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center",children:s.jsx(pe,{className:"h-4 w-4 text-muted-foreground"})}),s.jsx("span",{className:"font-medium",children:C.name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(et,{checked:y,onCheckedChange:ae=>h(C.id,ae===!0)}),s.jsx("span",{className:"text-sm text-muted-foreground",children:y?"Confirmado":"Não confirmado"})]})]},C.id)},e[29]=x,e[30]=h,e[31]=p):p=e[31],R=i.map(p),e[25]=i,e[26]=x,e[27]=h,e[28]=R}else R=e[28];let T;e[32]!==R?(T=s.jsxs(te,{className:"max-w-2xl mx-auto w-full",children:[Z,s.jsx(se,{children:s.jsx("div",{className:"space-y-2",children:R})})]}),e[32]=R,e[33]=T):T=e[33];let I;e[34]!==t.team_a.color?(I=s.jsx("div",{className:"h-10 w-10 rounded-full",style:{backgroundColor:t.team_a.color}}),e[34]=t.team_a.color,e[35]=I):I=e[35];let A;e[36]!==t.team_a.name?(A=s.jsx("span",{className:"font-semibold",children:t.team_a.name}),e[36]=t.team_a.name,e[37]=A):A=e[37];let B;e[38]!==I||e[39]!==A?(B=s.jsxs("div",{className:"flex items-center gap-3",children:[I,A]}),e[38]=I,e[39]=A,e[40]=B):B=e[40];let $;e[41]!==P?($=s.jsx("span",{className:"text-2xl font-bold",children:P}),e[41]=P,e[42]=$):$=e[42];let O;e[43]!==B||e[44]!==$?(O=s.jsx(te,{children:s.jsxs(se,{className:"flex items-center justify-between p-4",children:[B,$]})}),e[43]=B,e[44]=$,e[45]=O):O=e[45];let M;e[46]!==t.team_b.color?(M=s.jsx("div",{className:"h-10 w-10 rounded-full",style:{backgroundColor:t.team_b.color}}),e[46]=t.team_b.color,e[47]=M):M=e[47];let D;e[48]!==t.team_b.name?(D=s.jsx("span",{className:"font-semibold",children:t.team_b.name}),e[48]=t.team_b.name,e[49]=D):D=e[49];let H;e[50]!==M||e[51]!==D?(H=s.jsxs("div",{className:"flex items-center gap-3",children:[M,D]}),e[50]=M,e[51]=D,e[52]=H):H=e[52];let F;e[53]!==J?(F=s.jsx("span",{className:"text-2xl font-bold",children:J}),e[53]=J,e[54]=F):F=e[54];let L;e[55]!==H||e[56]!==F?(L=s.jsx(te,{children:s.jsxs(se,{className:"flex items-center justify-between p-4",children:[H,F]})}),e[55]=H,e[56]=F,e[57]=L):L=e[57];let V;e[58]!==O||e[59]!==L?(V=s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 max-w-2xl mx-auto w-full",children:[O,L]}),e[58]=O,e[59]=L,e[60]=V):V=e[60];let Q;e[61]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx(xe,{className:"h-5 w-5"}),e[61]=Q):Q=e[61];let q;e[62]!==o.length?(q=s.jsx(me,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[Q,"Distribuir Jogadores Confirmados nos Times (",o.length,")"]})}),e[62]=o.length,e[63]=q):q=e[63];let z;if(e[64]!==o||e[65]!==j||e[66]!==t.team_a.color||e[67]!==t.team_a.id||e[68]!==t.team_b.color||e[69]!==t.team_b.id||e[70]!==n){let p;e[72]!==j||e[73]!==t.team_a.color||e[74]!==t.team_a.id||e[75]!==t.team_b.color||e[76]!==t.team_b.id||e[77]!==n?(p=C=>{const y=n[C.user.id]?.toString()||"";return s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-muted flex items-center justify-center",children:s.jsx(pe,{className:"h-5 w-5 text-muted-foreground"})}),s.jsx("span",{className:"font-medium",children:C.user.name})]}),s.jsxs(Fe,{type:"single",value:y,onValueChange:ae=>j(C.user.id,ae),variant:"outline",children:[s.jsx(he,{value:t.team_a.id.toString(),className:"min-w-24 data-[state=on]:bg-blue-600 data-[state=on]:text-white",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:t.team_a.color}}),"Azul"]})}),s.jsx(he,{value:t.team_b.id.toString(),className:"min-w-24 data-[state=on]:bg-gray-200 data-[state=on]:text-gray-900",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-3 w-3 rounded-full border",style:{backgroundColor:t.team_b.color}}),"Branco"]})})]})]},C.id)},e[72]=j,e[73]=t.team_a.color,e[74]=t.team_a.id,e[75]=t.team_b.color,e[76]=t.team_b.id,e[77]=n,e[78]=p):p=e[78],z=o.map(p),e[64]=o,e[65]=j,e[66]=t.team_a.color,e[67]=t.team_a.id,e[68]=t.team_b.color,e[69]=t.team_b.id,e[70]=n,e[71]=z}else z=e[71];let U;e[79]!==z?(U=s.jsx(se,{children:s.jsx("div",{className:"space-y-3",children:z})}),e[79]=z,e[80]=U):U=e[80];let G;e[81]!==q||e[82]!==U?(G=s.jsxs(te,{className:"max-w-2xl mx-auto w-full",children:[q,U]}),e[81]=q,e[82]=U,e[83]=G):G=e[83];const oe=!Se||m;let Y;e[84]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx(xe,{className:"mr-2 h-5 w-5"}),e[84]=Y):Y=e[84];let W;e[85]!==g||e[86]!==oe?(W=s.jsx("div",{className:"flex gap-4 justify-center",children:s.jsxs(Ee,{onClick:g,disabled:oe,size:"lg",children:[Y,"Finalizar Formação de Equipes"]})}),e[85]=g,e[86]=oe,e[87]=W):W=e[87];let ee;return e[88]!==T||e[89]!==V||e[90]!==G||e[91]!==W?(ee=s.jsxs($e,{breadcrumbs:tt,children:[K,s.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[X,T,V,G,W]})]}),e[88]=T,e[89]=V,e[90]=G,e[91]=W,e[92]=ee):ee=e[92],ee}function st(r,e){return r[e.user_id]=e,r}export{xt as default};
